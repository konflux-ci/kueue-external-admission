---
apiVersion: kueue.x-k8s.io/v1beta1
kind: AdmissionCheck
metadata:
  name: test-alertmanager-check
spec:
  controllerName: konflux-ci.dev/kueue-external-admission
  parameters:
    apiGroup: config.kueue.x-k8s.io
    kind: AlertManagerConfig
    name: test-config

---
apiVersion: kueue.x-k8s.io/v1beta1
kind: ResourceFlavor
metadata:
  name: default
---
apiVersion: kueue.x-k8s.io/v1beta1
kind: ClusterQueue
metadata:
  name: test-cluster-queue
spec:
  namespaceSelector: {}
  admissionChecks:
    - test-alertmanager-check
  resourceGroups:
    - coveredResources:
        - cpu
        - memory
      flavors:
        - name: default
          resources:
            - name: cpu
              nominalQuota: "10"
            - name: memory
              nominalQuota: "10Gi"

---
apiVersion: kueue.x-k8s.io/v1beta1
kind: LocalQueue
metadata:
  name: test-local-queue
  namespace: test-ns
spec:
  clusterQueue: test-cluster-queue

 
